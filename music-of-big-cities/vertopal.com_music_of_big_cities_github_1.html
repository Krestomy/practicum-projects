<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>69cc96a72de241f8a8d611a2294e91a6</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="яндекс-музыка" class="cell markdown" data-deletable="false"
data-editable="false" id="E0vqbgi9ay0H">
<h1>Яндекс Музыка</h1>
</section>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="VUC88oWjTJw2">
<p>Сравнение Москвы и Петербурга окружено мифами. Например:</p>
<ul>
<li>Москва — мегаполис, подчинённый жёсткому ритму рабочей недели;</li>
<li>Петербург — культурная столица, со своими вкусами.</li>
</ul>
<p>На данных Яндекс Музыки вы сравните поведение пользователей двух
столиц.</p>
<p><strong>Цель исследования</strong> — проверьте три гипотезы:</p>
<ol>
<li>Активность пользователей зависит от дня недели. Причём в Москве и
Петербурге это проявляется по-разному.</li>
<li>В понедельник утром в Москве преобладают одни жанры, а в Петербурге
— другие. Так же и вечером пятницы преобладают разные жанры — в
зависимости от города.</li>
<li>Москва и Петербург предпочитают разные жанры музыки. В Москве чаще
слушают поп-музыку, в Петербурге — русский рэп.</li>
</ol>
<p><strong>Ход исследования</strong></p>
<p>Данные о поведении пользователей вы получите из файла
<code>yandex_music_project.csv</code>. О качестве данных ничего не
известно. Поэтому перед проверкой гипотез понадобится обзор данных.</p>
<p>Вы проверите данные на ошибки и оцените их влияние на исследование.
Затем, на этапе предобработки вы поищете возможность исправить самые
критичные ошибки данных.</p>
<p>Таким образом, исследование пройдёт в три этапа:</p>
<ol>
<li>Обзор данных.</li>
<li>Предобработка данных.</li>
<li>Проверка гипотез.</li>
</ol>
</div>
<section id="обзор-данных" class="cell markdown" data-deletable="false"
data-editable="false" id="Ml1hmfXC_Zcs">
<h2>Обзор данных</h2>
<p>Составьте первое представление о данных Яндекс Музыки.</p>
</section>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="57eAOGIz_Zcs" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 1</strong></p>
</div>
<div class="cell code" data-deletable="false" id="AXN7PHPN_Zcs">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd <span class="co"># импорт библиотеки pandas</span></span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="SG23P8tt_Zcs" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 2</strong></p>
</div>
<div class="cell code" data-deletable="false" id="fFVu7vqh_Zct">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">&#39;/datasets/yandex_music_project.csv&#39;</span>) <span class="co"># чтение файла с данными и сохранение в df</span></span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="rDoOMd3uTqnZ" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 3</strong></p>
</div>
<div class="cell code" data-deletable="false" id="oWTVX3gW_Zct"
data-outputId="f3791796-698b-4ac3-f2d1-eac3ae5ab5c8">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">10</span>) <span class="co"># получение первых 10 строк таблицы df</span></span></code></pre></div>
<div class="output execute_result" data-execution_count="3">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>userID</th>
      <th>Track</th>
      <th>artist</th>
      <th>genre</th>
      <th>City</th>
      <th>time</th>
      <th>Day</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>FFB692EC</td>
      <td>Kamigata To Boots</td>
      <td>The Mass Missile</td>
      <td>rock</td>
      <td>Saint-Petersburg</td>
      <td>20:28:33</td>
      <td>Wednesday</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55204538</td>
      <td>Delayed Because of Accident</td>
      <td>Andreas Rönnberg</td>
      <td>rock</td>
      <td>Moscow</td>
      <td>14:07:09</td>
      <td>Friday</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20EC38</td>
      <td>Funiculì funiculà</td>
      <td>Mario Lanza</td>
      <td>pop</td>
      <td>Saint-Petersburg</td>
      <td>20:58:07</td>
      <td>Wednesday</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A3DD03C9</td>
      <td>Dragons in the Sunset</td>
      <td>Fire + Ice</td>
      <td>folk</td>
      <td>Saint-Petersburg</td>
      <td>08:37:09</td>
      <td>Monday</td>
    </tr>
    <tr>
      <th>4</th>
      <td>E2DC1FAE</td>
      <td>Soul People</td>
      <td>Space Echo</td>
      <td>dance</td>
      <td>Moscow</td>
      <td>08:34:34</td>
      <td>Monday</td>
    </tr>
    <tr>
      <th>5</th>
      <td>842029A1</td>
      <td>Преданная</td>
      <td>IMPERVTOR</td>
      <td>rusrap</td>
      <td>Saint-Petersburg</td>
      <td>13:09:41</td>
      <td>Friday</td>
    </tr>
    <tr>
      <th>6</th>
      <td>4CB90AA5</td>
      <td>True</td>
      <td>Roman Messer</td>
      <td>dance</td>
      <td>Moscow</td>
      <td>13:00:07</td>
      <td>Wednesday</td>
    </tr>
    <tr>
      <th>7</th>
      <td>F03E1C1F</td>
      <td>Feeling This Way</td>
      <td>Polina Griffith</td>
      <td>dance</td>
      <td>Moscow</td>
      <td>20:47:49</td>
      <td>Wednesday</td>
    </tr>
    <tr>
      <th>8</th>
      <td>8FA1D3BE</td>
      <td>И вновь продолжается бой</td>
      <td>NaN</td>
      <td>ruspop</td>
      <td>Moscow</td>
      <td>09:17:40</td>
      <td>Friday</td>
    </tr>
    <tr>
      <th>9</th>
      <td>E772D5C0</td>
      <td>Pessimist</td>
      <td>NaN</td>
      <td>dance</td>
      <td>Saint-Petersburg</td>
      <td>21:20:49</td>
      <td>Wednesday</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="EO73Kwic_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 4</strong></p>
</div>
<div class="cell code" data-deletable="false" id="DSf2kIb-_Zct"
data-outputId="e5dacae2-f902-4f9d-87a6-892a56eb76bf">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df.info() <span class="co"># получение общей информации о данных в таблице df</span></span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 65079 entries, 0 to 65078
Data columns (total 7 columns):
 #   Column    Non-Null Count  Dtype 
---  ------    --------------  ----- 
 0     userID  65079 non-null  object
 1   Track     63848 non-null  object
 2   artist    57876 non-null  object
 3   genre     63881 non-null  object
 4     City    65079 non-null  object
 5   time      65079 non-null  object
 6   Day       65079 non-null  object
dtypes: object(7)
memory usage: 3.5+ MB
</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="TaQ2Iwbr_Zct">
<p>Количество значений в столбцах различается. Значит, в данных есть
пропущенные значения.</p>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="4P0UCWzswgEm" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 5</strong></p>
</div>
<div class="cell code" id="c137-ZstwgEm">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Напишите ваш ответ здесь комментарием. Не удаляйте символ #. Не меняйте тип этой ячейки на Markdown.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Слова желательно разделять нижними подчеркиваниями. Так, userID было бы читабельнее как user_id</span></span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="MCB6-dXG_Zct">
<p><strong>Выводы</strong></p>
<p>В каждой строке таблицы — данные о прослушанном треке. Часть колонок
описывает саму композицию: название, исполнителя и жанр. Остальные
данные рассказывают о пользователе: из какого он города, когда он слушал
музыку.</p>
<p>Предварительно можно утверждать, что данных достаточно для проверки
гипотез. Но встречаются пропуски в данных, а в названиях колонок —
расхождения с хорошим стилем.</p>
<p>Чтобы двигаться дальше, нужно устранить проблемы в данных.</p>
</div>
<section id="предобработка-данных" class="cell markdown"
data-deletable="false" data-editable="false" id="SjYF6Ub9_Zct">
<h2>Предобработка данных</h2>
</section>
<section id="переименование-столбцов" class="cell markdown"
data-deletable="false" data-editable="false" id="dIaKXr29_Zct"
data-tags="[&quot;start_task&quot;]">
<h3>Переименование столбцов</h3>
<p><strong>Задание 6</strong></p>
</section>
<div class="cell code" data-deletable="false" id="oKOTdF_Q_Zct"
data-outputId="1904df2a-b23a-4fd1-ea44-97e9c004df11">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># перечень названий столбцов таблицы df</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>df.columns</span></code></pre></div>
<div class="output execute_result" data-execution_count="6">
<pre><code>Index([&#39;  userID&#39;, &#39;Track&#39;, &#39;artist&#39;, &#39;genre&#39;, &#39;  City  &#39;, &#39;time&#39;, &#39;Day&#39;], dtype=&#39;object&#39;)</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="zj5534cv_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 7</strong></p>
</div>
<div class="cell code" data-deletable="false" id="ISlFqs5y_Zct">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># переименование столбцов</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.rename(columns<span class="op">=</span>{<span class="st">&#39;  userID&#39;</span>: <span class="st">&#39;user_id&#39;</span>, <span class="st">&#39;Track&#39;</span>: <span class="st">&#39;track&#39;</span>, <span class="st">&#39;  City  &#39;</span>: <span class="st">&#39;city&#39;</span>, <span class="st">&#39;Day&#39;</span>: <span class="st">&#39;day&#39;</span>})</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="1dqbh00J_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 8</strong></p>
</div>
<div class="cell code" data-deletable="false" id="d4NOAmTW_Zct"
data-outputId="bf93f579-5719-4cef-ebf8-e6a3830a604e">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># проверка результатов - перечень названий столбцов</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>df.columns</span></code></pre></div>
<div class="output execute_result" data-execution_count="8">
<pre><code>Index([&#39;user_id&#39;, &#39;track&#39;, &#39;artist&#39;, &#39;genre&#39;, &#39;city&#39;, &#39;time&#39;, &#39;day&#39;], dtype=&#39;object&#39;)</code></pre>
</div>
</div>
<section id="обработка-пропущенных-значений" class="cell markdown"
data-deletable="false" data-editable="false" id="5ISfbcfY_Zct"
data-tags="[&quot;start_task&quot;]">
<h3>Обработка пропущенных значений</h3>
<p><strong>Задание 9</strong></p>
</section>
<div class="cell code" data-deletable="false" id="RskX29qr_Zct"
data-outputId="7d5bb845-473d-4044-e03a-efc3baccbf5c">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># подсчёт пропусков</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df.isna().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="9">
<pre><code>user_id       0
track      1231
artist     7203
genre      1198
city          0
time          0
day           0
dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="fSv2laPA_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 10</strong></p>
</div>
<div class="cell code" data-deletable="false" id="KplB5qWs_Zct">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># замена пропущенных значений на &#39;unknown&#39;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>columns_to_replace <span class="op">=</span> [<span class="st">&#39;track&#39;</span>, <span class="st">&#39;artist&#39;</span>, <span class="st">&#39;genre&#39;</span>]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> column <span class="kw">in</span> columns_to_replace:</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    df[column] <span class="op">=</span> df[column].fillna(<span class="st">&#39;unknown&#39;</span>)</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="Ilsm-MZo_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 11</strong></p>
</div>
<div class="cell code" data-deletable="false" id="Tq4nYRX4_Zct"
data-outputId="64035538-8d88-4ba8-9650-a0e1d8286357">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># проверка на отсутствие пропусков</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>df.isna().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="11">
<pre><code>user_id    0
track      0
artist     0
genre      0
city       0
time       0
day        0
dtype: int64</code></pre>
</div>
</div>
<section id="обработка-дубликатов" class="cell markdown"
data-deletable="false" data-editable="false" id="BWKRtBJ3_Zct"
data-tags="[&quot;start_task&quot;]">
<h3>Обработка дубликатов</h3>
<p><strong>Задание 12</strong></p>
</section>
<div class="cell code" data-deletable="false" id="36eES_S0_Zct"
data-outputId="885a56d0-5e05-4c18-93b0-7b78a5343435">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># подсчёт явных дубликатов</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>df.duplicated().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="12">
<pre><code>3826</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="Ot25h6XR_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 13</strong></p>
</div>
<div class="cell code" data-deletable="false" id="exFHq6tt_Zct">
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># удаление явных дубликатов, создание новых индексов и удаление старых</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.drop_duplicates().reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="Im2YwBEG_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 14</strong></p>
</div>
<div class="cell code" data-deletable="false" id="-8PuNWQ0_Zct"
data-outputId="f7daf3de-d4e8-476c-ceb3-a56f5e37d817">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># проверка на отсутствие явных дубликатов</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>df.duplicated().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="14">
<pre><code>0</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="eSjWwsOh_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 15</strong></p>
</div>
<div class="cell code" data-deletable="false" id="JIUcqzZN_Zct"
data-outputId="6afa06e4-2d4a-445d-a232-31b13c6da3db">
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># просмотр уникальных отсортированных названий жанров</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;genre&#39;</span>].sort_values().unique()</span></code></pre></div>
<div class="output execute_result" data-execution_count="15">
<pre><code>array([&#39;acid&#39;, &#39;acoustic&#39;, &#39;action&#39;, &#39;adult&#39;, &#39;africa&#39;, &#39;afrikaans&#39;,
       &#39;alternative&#39;, &#39;alternativepunk&#39;, &#39;ambient&#39;, &#39;americana&#39;,
       &#39;animated&#39;, &#39;anime&#39;, &#39;arabesk&#39;, &#39;arabic&#39;, &#39;arena&#39;,
       &#39;argentinetango&#39;, &#39;art&#39;, &#39;audiobook&#39;, &#39;author&#39;, &#39;avantgarde&#39;,
       &#39;axé&#39;, &#39;baile&#39;, &#39;balkan&#39;, &#39;beats&#39;, &#39;bigroom&#39;, &#39;black&#39;, &#39;bluegrass&#39;,
       &#39;blues&#39;, &#39;bollywood&#39;, &#39;bossa&#39;, &#39;brazilian&#39;, &#39;breakbeat&#39;, &#39;breaks&#39;,
       &#39;broadway&#39;, &#39;cantautori&#39;, &#39;cantopop&#39;, &#39;canzone&#39;, &#39;caribbean&#39;,
       &#39;caucasian&#39;, &#39;celtic&#39;, &#39;chamber&#39;, &#39;chanson&#39;, &#39;children&#39;, &#39;chill&#39;,
       &#39;chinese&#39;, &#39;choral&#39;, &#39;christian&#39;, &#39;christmas&#39;, &#39;classical&#39;,
       &#39;classicmetal&#39;, &#39;club&#39;, &#39;colombian&#39;, &#39;comedy&#39;, &#39;conjazz&#39;,
       &#39;contemporary&#39;, &#39;country&#39;, &#39;cuban&#39;, &#39;dance&#39;, &#39;dancehall&#39;,
       &#39;dancepop&#39;, &#39;dark&#39;, &#39;death&#39;, &#39;deep&#39;, &#39;deutschrock&#39;, &#39;deutschspr&#39;,
       &#39;dirty&#39;, &#39;disco&#39;, &#39;dnb&#39;, &#39;documentary&#39;, &#39;downbeat&#39;, &#39;downtempo&#39;,
       &#39;drum&#39;, &#39;dub&#39;, &#39;dubstep&#39;, &#39;eastern&#39;, &#39;easy&#39;, &#39;electronic&#39;,
       &#39;electropop&#39;, &#39;emo&#39;, &#39;entehno&#39;, &#39;epicmetal&#39;, &#39;estrada&#39;, &#39;ethnic&#39;,
       &#39;eurofolk&#39;, &#39;european&#39;, &#39;experimental&#39;, &#39;extrememetal&#39;, &#39;fado&#39;,
       &#39;fairytail&#39;, &#39;film&#39;, &#39;fitness&#39;, &#39;flamenco&#39;, &#39;folk&#39;, &#39;folklore&#39;,
       &#39;folkmetal&#39;, &#39;folkrock&#39;, &#39;folktronica&#39;, &#39;forró&#39;, &#39;frankreich&#39;,
       &#39;französisch&#39;, &#39;french&#39;, &#39;funk&#39;, &#39;future&#39;, &#39;gangsta&#39;, &#39;garage&#39;,
       &#39;german&#39;, &#39;ghazal&#39;, &#39;gitarre&#39;, &#39;glitch&#39;, &#39;gospel&#39;, &#39;gothic&#39;,
       &#39;grime&#39;, &#39;grunge&#39;, &#39;gypsy&#39;, &#39;handsup&#39;, &quot;hard&#39;n&#39;heavy&quot;, &#39;hardcore&#39;,
       &#39;hardstyle&#39;, &#39;hardtechno&#39;, &#39;hip&#39;, &#39;hip-hop&#39;, &#39;hiphop&#39;,
       &#39;historisch&#39;, &#39;holiday&#39;, &#39;hop&#39;, &#39;horror&#39;, &#39;house&#39;, &#39;hymn&#39;, &#39;idm&#39;,
       &#39;independent&#39;, &#39;indian&#39;, &#39;indie&#39;, &#39;indipop&#39;, &#39;industrial&#39;,
       &#39;inspirational&#39;, &#39;instrumental&#39;, &#39;international&#39;, &#39;irish&#39;, &#39;jam&#39;,
       &#39;japanese&#39;, &#39;jazz&#39;, &#39;jewish&#39;, &#39;jpop&#39;, &#39;jungle&#39;, &#39;k-pop&#39;,
       &#39;karadeniz&#39;, &#39;karaoke&#39;, &#39;kayokyoku&#39;, &#39;korean&#39;, &#39;laiko&#39;, &#39;latin&#39;,
       &#39;latino&#39;, &#39;leftfield&#39;, &#39;local&#39;, &#39;lounge&#39;, &#39;loungeelectronic&#39;,
       &#39;lovers&#39;, &#39;malaysian&#39;, &#39;mandopop&#39;, &#39;marschmusik&#39;, &#39;meditative&#39;,
       &#39;mediterranean&#39;, &#39;melodic&#39;, &#39;metal&#39;, &#39;metalcore&#39;, &#39;mexican&#39;,
       &#39;middle&#39;, &#39;minimal&#39;, &#39;miscellaneous&#39;, &#39;modern&#39;, &#39;mood&#39;, &#39;mpb&#39;,
       &#39;muslim&#39;, &#39;native&#39;, &#39;neoklassik&#39;, &#39;neue&#39;, &#39;new&#39;, &#39;newage&#39;,
       &#39;newwave&#39;, &#39;nu&#39;, &#39;nujazz&#39;, &#39;numetal&#39;, &#39;oceania&#39;, &#39;old&#39;, &#39;opera&#39;,
       &#39;orchestral&#39;, &#39;other&#39;, &#39;piano&#39;, &#39;podcasts&#39;, &#39;pop&#39;, &#39;popdance&#39;,
       &#39;popelectronic&#39;, &#39;popeurodance&#39;, &#39;poprussian&#39;, &#39;post&#39;,
       &#39;posthardcore&#39;, &#39;postrock&#39;, &#39;power&#39;, &#39;progmetal&#39;, &#39;progressive&#39;,
       &#39;psychedelic&#39;, &#39;punjabi&#39;, &#39;punk&#39;, &#39;quebecois&#39;, &#39;ragga&#39;, &#39;ram&#39;,
       &#39;rancheras&#39;, &#39;rap&#39;, &#39;rave&#39;, &#39;reggae&#39;, &#39;reggaeton&#39;, &#39;regional&#39;,
       &#39;relax&#39;, &#39;religious&#39;, &#39;retro&#39;, &#39;rhythm&#39;, &#39;rnb&#39;, &#39;rnr&#39;, &#39;rock&#39;,
       &#39;rockabilly&#39;, &#39;rockalternative&#39;, &#39;rockindie&#39;, &#39;rockother&#39;,
       &#39;romance&#39;, &#39;roots&#39;, &#39;ruspop&#39;, &#39;rusrap&#39;, &#39;rusrock&#39;, &#39;russian&#39;,
       &#39;salsa&#39;, &#39;samba&#39;, &#39;scenic&#39;, &#39;schlager&#39;, &#39;self&#39;, &#39;sertanejo&#39;,
       &#39;shanson&#39;, &#39;shoegazing&#39;, &#39;showtunes&#39;, &#39;singer&#39;, &#39;ska&#39;, &#39;skarock&#39;,
       &#39;slow&#39;, &#39;smooth&#39;, &#39;soft&#39;, &#39;soul&#39;, &#39;soulful&#39;, &#39;sound&#39;, &#39;soundtrack&#39;,
       &#39;southern&#39;, &#39;specialty&#39;, &#39;speech&#39;, &#39;spiritual&#39;, &#39;sport&#39;,
       &#39;stonerrock&#39;, &#39;surf&#39;, &#39;swing&#39;, &#39;synthpop&#39;, &#39;synthrock&#39;,
       &#39;sängerportrait&#39;, &#39;tango&#39;, &#39;tanzorchester&#39;, &#39;taraftar&#39;, &#39;tatar&#39;,
       &#39;tech&#39;, &#39;techno&#39;, &#39;teen&#39;, &#39;thrash&#39;, &#39;top&#39;, &#39;traditional&#39;,
       &#39;tradjazz&#39;, &#39;trance&#39;, &#39;tribal&#39;, &#39;trip&#39;, &#39;triphop&#39;, &#39;tropical&#39;,
       &#39;türk&#39;, &#39;türkçe&#39;, &#39;ukrrock&#39;, &#39;unknown&#39;, &#39;urban&#39;, &#39;uzbek&#39;,
       &#39;variété&#39;, &#39;vi&#39;, &#39;videogame&#39;, &#39;vocal&#39;, &#39;western&#39;, &#39;world&#39;,
       &#39;worldbeat&#39;, &#39;ïîï&#39;, &#39;электроника&#39;], dtype=object)</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="qej-Qmuo_Zct" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 16</strong></p>
</div>
<div class="cell code" data-deletable="false" id="ErNDkmns_Zct">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># устранение неявных дубликатов</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;genre&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;genre&#39;</span>].replace([<span class="st">&#39;hip&#39;</span>, <span class="st">&#39;hop&#39;</span>, <span class="st">&#39;hip-hop&#39;</span>], <span class="st">&#39;hiphop&#39;</span>)</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="zQKF16_RG15m" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 17</strong></p>
</div>
<div class="cell code" data-deletable="false" id="wvixALnFG15m"
data-outputId="88baa1dc-5224-4451-e0ee-5c6a588086d6">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># проверка на отсутствие неявных дубликатов</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;genre&#39;</span>].sort_values().unique()</span></code></pre></div>
<div class="output execute_result" data-execution_count="17">
<pre><code>array([&#39;acid&#39;, &#39;acoustic&#39;, &#39;action&#39;, &#39;adult&#39;, &#39;africa&#39;, &#39;afrikaans&#39;,
       &#39;alternative&#39;, &#39;alternativepunk&#39;, &#39;ambient&#39;, &#39;americana&#39;,
       &#39;animated&#39;, &#39;anime&#39;, &#39;arabesk&#39;, &#39;arabic&#39;, &#39;arena&#39;,
       &#39;argentinetango&#39;, &#39;art&#39;, &#39;audiobook&#39;, &#39;author&#39;, &#39;avantgarde&#39;,
       &#39;axé&#39;, &#39;baile&#39;, &#39;balkan&#39;, &#39;beats&#39;, &#39;bigroom&#39;, &#39;black&#39;, &#39;bluegrass&#39;,
       &#39;blues&#39;, &#39;bollywood&#39;, &#39;bossa&#39;, &#39;brazilian&#39;, &#39;breakbeat&#39;, &#39;breaks&#39;,
       &#39;broadway&#39;, &#39;cantautori&#39;, &#39;cantopop&#39;, &#39;canzone&#39;, &#39;caribbean&#39;,
       &#39;caucasian&#39;, &#39;celtic&#39;, &#39;chamber&#39;, &#39;chanson&#39;, &#39;children&#39;, &#39;chill&#39;,
       &#39;chinese&#39;, &#39;choral&#39;, &#39;christian&#39;, &#39;christmas&#39;, &#39;classical&#39;,
       &#39;classicmetal&#39;, &#39;club&#39;, &#39;colombian&#39;, &#39;comedy&#39;, &#39;conjazz&#39;,
       &#39;contemporary&#39;, &#39;country&#39;, &#39;cuban&#39;, &#39;dance&#39;, &#39;dancehall&#39;,
       &#39;dancepop&#39;, &#39;dark&#39;, &#39;death&#39;, &#39;deep&#39;, &#39;deutschrock&#39;, &#39;deutschspr&#39;,
       &#39;dirty&#39;, &#39;disco&#39;, &#39;dnb&#39;, &#39;documentary&#39;, &#39;downbeat&#39;, &#39;downtempo&#39;,
       &#39;drum&#39;, &#39;dub&#39;, &#39;dubstep&#39;, &#39;eastern&#39;, &#39;easy&#39;, &#39;electronic&#39;,
       &#39;electropop&#39;, &#39;emo&#39;, &#39;entehno&#39;, &#39;epicmetal&#39;, &#39;estrada&#39;, &#39;ethnic&#39;,
       &#39;eurofolk&#39;, &#39;european&#39;, &#39;experimental&#39;, &#39;extrememetal&#39;, &#39;fado&#39;,
       &#39;fairytail&#39;, &#39;film&#39;, &#39;fitness&#39;, &#39;flamenco&#39;, &#39;folk&#39;, &#39;folklore&#39;,
       &#39;folkmetal&#39;, &#39;folkrock&#39;, &#39;folktronica&#39;, &#39;forró&#39;, &#39;frankreich&#39;,
       &#39;französisch&#39;, &#39;french&#39;, &#39;funk&#39;, &#39;future&#39;, &#39;gangsta&#39;, &#39;garage&#39;,
       &#39;german&#39;, &#39;ghazal&#39;, &#39;gitarre&#39;, &#39;glitch&#39;, &#39;gospel&#39;, &#39;gothic&#39;,
       &#39;grime&#39;, &#39;grunge&#39;, &#39;gypsy&#39;, &#39;handsup&#39;, &quot;hard&#39;n&#39;heavy&quot;, &#39;hardcore&#39;,
       &#39;hardstyle&#39;, &#39;hardtechno&#39;, &#39;hiphop&#39;, &#39;historisch&#39;, &#39;holiday&#39;,
       &#39;horror&#39;, &#39;house&#39;, &#39;hymn&#39;, &#39;idm&#39;, &#39;independent&#39;, &#39;indian&#39;, &#39;indie&#39;,
       &#39;indipop&#39;, &#39;industrial&#39;, &#39;inspirational&#39;, &#39;instrumental&#39;,
       &#39;international&#39;, &#39;irish&#39;, &#39;jam&#39;, &#39;japanese&#39;, &#39;jazz&#39;, &#39;jewish&#39;,
       &#39;jpop&#39;, &#39;jungle&#39;, &#39;k-pop&#39;, &#39;karadeniz&#39;, &#39;karaoke&#39;, &#39;kayokyoku&#39;,
       &#39;korean&#39;, &#39;laiko&#39;, &#39;latin&#39;, &#39;latino&#39;, &#39;leftfield&#39;, &#39;local&#39;,
       &#39;lounge&#39;, &#39;loungeelectronic&#39;, &#39;lovers&#39;, &#39;malaysian&#39;, &#39;mandopop&#39;,
       &#39;marschmusik&#39;, &#39;meditative&#39;, &#39;mediterranean&#39;, &#39;melodic&#39;, &#39;metal&#39;,
       &#39;metalcore&#39;, &#39;mexican&#39;, &#39;middle&#39;, &#39;minimal&#39;, &#39;miscellaneous&#39;,
       &#39;modern&#39;, &#39;mood&#39;, &#39;mpb&#39;, &#39;muslim&#39;, &#39;native&#39;, &#39;neoklassik&#39;, &#39;neue&#39;,
       &#39;new&#39;, &#39;newage&#39;, &#39;newwave&#39;, &#39;nu&#39;, &#39;nujazz&#39;, &#39;numetal&#39;, &#39;oceania&#39;,
       &#39;old&#39;, &#39;opera&#39;, &#39;orchestral&#39;, &#39;other&#39;, &#39;piano&#39;, &#39;podcasts&#39;, &#39;pop&#39;,
       &#39;popdance&#39;, &#39;popelectronic&#39;, &#39;popeurodance&#39;, &#39;poprussian&#39;, &#39;post&#39;,
       &#39;posthardcore&#39;, &#39;postrock&#39;, &#39;power&#39;, &#39;progmetal&#39;, &#39;progressive&#39;,
       &#39;psychedelic&#39;, &#39;punjabi&#39;, &#39;punk&#39;, &#39;quebecois&#39;, &#39;ragga&#39;, &#39;ram&#39;,
       &#39;rancheras&#39;, &#39;rap&#39;, &#39;rave&#39;, &#39;reggae&#39;, &#39;reggaeton&#39;, &#39;regional&#39;,
       &#39;relax&#39;, &#39;religious&#39;, &#39;retro&#39;, &#39;rhythm&#39;, &#39;rnb&#39;, &#39;rnr&#39;, &#39;rock&#39;,
       &#39;rockabilly&#39;, &#39;rockalternative&#39;, &#39;rockindie&#39;, &#39;rockother&#39;,
       &#39;romance&#39;, &#39;roots&#39;, &#39;ruspop&#39;, &#39;rusrap&#39;, &#39;rusrock&#39;, &#39;russian&#39;,
       &#39;salsa&#39;, &#39;samba&#39;, &#39;scenic&#39;, &#39;schlager&#39;, &#39;self&#39;, &#39;sertanejo&#39;,
       &#39;shanson&#39;, &#39;shoegazing&#39;, &#39;showtunes&#39;, &#39;singer&#39;, &#39;ska&#39;, &#39;skarock&#39;,
       &#39;slow&#39;, &#39;smooth&#39;, &#39;soft&#39;, &#39;soul&#39;, &#39;soulful&#39;, &#39;sound&#39;, &#39;soundtrack&#39;,
       &#39;southern&#39;, &#39;specialty&#39;, &#39;speech&#39;, &#39;spiritual&#39;, &#39;sport&#39;,
       &#39;stonerrock&#39;, &#39;surf&#39;, &#39;swing&#39;, &#39;synthpop&#39;, &#39;synthrock&#39;,
       &#39;sängerportrait&#39;, &#39;tango&#39;, &#39;tanzorchester&#39;, &#39;taraftar&#39;, &#39;tatar&#39;,
       &#39;tech&#39;, &#39;techno&#39;, &#39;teen&#39;, &#39;thrash&#39;, &#39;top&#39;, &#39;traditional&#39;,
       &#39;tradjazz&#39;, &#39;trance&#39;, &#39;tribal&#39;, &#39;trip&#39;, &#39;triphop&#39;, &#39;tropical&#39;,
       &#39;türk&#39;, &#39;türkçe&#39;, &#39;ukrrock&#39;, &#39;unknown&#39;, &#39;urban&#39;, &#39;uzbek&#39;,
       &#39;variété&#39;, &#39;vi&#39;, &#39;videogame&#39;, &#39;vocal&#39;, &#39;western&#39;, &#39;world&#39;,
       &#39;worldbeat&#39;, &#39;ïîï&#39;, &#39;электроника&#39;], dtype=object)</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="jz6a9-7HQUDd">
<p><strong>Выводы</strong></p>
<p>Предобработка обнаружила три проблемы в данных:</p>
<ul>
<li>нарушения в стиле заголовков,</li>
<li>пропущенные значения,</li>
<li>дубликаты — явные и неявные.</li>
</ul>
<p>Вы исправили заголовки, чтобы упростить работу с таблицей. Без
дубликатов исследование станет более точным.</p>
<p>Пропущенные значения вы заменили на <code>'unknown'</code>. Ещё
предстоит увидеть, не повредят ли исследованию пропуски в колонке
<code>genre</code>.</p>
<p>Теперь можно перейти к проверке гипотез.</p>
</div>
<section id="проверка-гипотез" class="cell markdown"
data-deletable="false" data-editable="false" id="WttZHXH0SqKk">
<h2>Проверка гипотез</h2>
</section>
<section id="сравнение-поведения-пользователей-двух-столиц"
class="cell markdown" data-deletable="false" data-editable="false"
id="Im936VVi_Zcu">
<h3>Сравнение поведения пользователей двух столиц</h3>
</section>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="nwt_MuaL_Zcu">
<p>Первая гипотеза утверждает, что пользователи по-разному слушают
музыку в Москве и Санкт-Петербурге. Проверим это предположение по данным
о трёх днях недели — понедельнике, среде и пятнице. Для этого:</p>
<ul>
<li>Разделим пользователей Москвы и Санкт-Петербурга.</li>
<li>Сравним, сколько треков послушала каждая группа пользователей в
понедельник, среду и пятницу.</li>
</ul>
</div>
<div class="cell markdown" data-deletable="false" id="8Dw_YMmT_Zcu"
data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 18</strong></p>
</div>
<div class="cell code" data-deletable="false" id="0_Qs96oh_Zcu"
data-outputId="6e7be0f5-4e7f-4370-bb97-f20e3b3ad936">
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># подсчёт прослушиваний в каждом городе</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">&#39;city&#39;</span>)[<span class="st">&#39;day&#39;</span>].count()</span></code></pre></div>
<div class="output execute_result" data-execution_count="43">
<pre><code>city
Moscow              42741
Saint-Petersburg    18512
Name: day, dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown" id="dzli3w8o_Zcu"
data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 19</strong></p>
</div>
<div class="cell code" data-deletable="false" id="uZMKjiJz_Zcu"
data-outputId="b63d44df-d673-4e4f-945e-f2a7bfd82b95">
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># подсчёт прослушиваний в каждый из трёх дней</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">&#39;day&#39;</span>)[<span class="st">&#39;user_id&#39;</span>].count()</span></code></pre></div>
<div class="output execute_result" data-execution_count="19">
<pre><code>day
Friday       21840
Monday       21354
Wednesday    18059
Name: user_id, dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="POzs8bGa_Zcu" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 20</strong></p>
</div>
<div class="cell code" data-deletable="false" id="Nz3GdQB1_Zcu">
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> number_tracks(day, city):</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    track_list <span class="op">=</span> df[df[<span class="st">&#39;day&#39;</span>] <span class="op">==</span> day] <span class="co"># выберите только строки df со значением переменной day в столбце day</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    track_list <span class="op">=</span> track_list[track_list[<span class="st">&#39;city&#39;</span>] <span class="op">==</span> city] <span class="co"># выберите только строки track_list со значением переменной city в столбце city</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    track_list_count <span class="op">=</span> track_list[<span class="st">&#39;user_id&#39;</span>].count() <span class="co"># вызовите метод подсчета строк для track_list и выберите столбец user_id</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> track_list_count</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="ytf7xFrFJQ2r" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 21</strong></p>
</div>
<div class="cell code" data-deletable="false" id="rJcRATNQ_Zcu"
data-outputId="c5b66449-3d96-4bef-edcf-45dff039aa26">
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># количество прослушиваний в Москве по понедельникам</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>number_tracks(<span class="st">&#39;Monday&#39;</span>, <span class="st">&#39;Moscow&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="44">
<pre><code>15740</code></pre>
</div>
</div>
<div class="cell code" data-deletable="false" id="hq_ncZ5T_Zcu"
data-outputId="b740ceed-c84f-452a-8a22-c077d9eda65b">
<div class="sourceCode" id="cb34"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># количество прослушиваний в Санкт-Петербурге по понедельникам</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>number_tracks(<span class="st">&#39;Monday&#39;</span>, <span class="st">&#39;Saint-Petersburg&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="22">
<pre><code>5614</code></pre>
</div>
</div>
<div class="cell code" data-deletable="false" id="_NTy2VPU_Zcu"
data-outputId="5d9c36bb-b861-43f3-cb8e-0a3ff6ceab96">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># количество прослушиваний в Москве по средам</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>number_tracks(<span class="st">&#39;Wednesday&#39;</span>, <span class="st">&#39;Moscow&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="23">
<pre><code>11056</code></pre>
</div>
</div>
<div class="cell code" data-deletable="false" id="j2y3TAwo_Zcu"
data-outputId="002ebc91-fe41-4d73-b943-46548e9c2f9e">
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># количество прослушиваний в Санкт-Петербурге по средам</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>number_tracks(<span class="st">&#39;Wednesday&#39;</span>, <span class="st">&#39;Saint-Petersburg&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="24">
<pre><code>7003</code></pre>
</div>
</div>
<div class="cell code" data-deletable="false" id="vYDw5u_K_Zcu"
data-outputId="d5a9b065-bacf-42b9-a9e4-b3888622ead9">
<div class="sourceCode" id="cb40"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># количество прослушиваний в Москве по пятницам</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>number_tracks(<span class="st">&#39;Friday&#39;</span>, <span class="st">&#39;Moscow&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="25">
<pre><code>15945</code></pre>
</div>
</div>
<div class="cell code" data-deletable="false" id="8_yzFtW3_Zcu"
data-outputId="13953a44-cbad-495a-e1a8-a8a0fed06d93">
<div class="sourceCode" id="cb42"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># количество прослушиваний в Санкт-Петербурге по пятницам</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>number_tracks(<span class="st">&#39;Friday&#39;</span>, <span class="st">&#39;Saint-Petersburg&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="26">
<pre><code>5895</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="7QXffbO-_Zcu" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 22</strong></p>
</div>
<div class="cell code" data-deletable="false" id="APAcLpOr_Zcu"
data-outputId="73b4791d-5707-4863-a320-0ff8eaf9e874">
<div class="sourceCode" id="cb44"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># создание таблицы с результатами</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># вывод таблицы на экран</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [<span class="st">&#39;city&#39;</span>, <span class="st">&#39;monday&#39;</span>, <span class="st">&#39;wednesday&#39;</span>, <span class="st">&#39;friday&#39;</span>]</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>info <span class="op">=</span> pd.DataFrame(data<span class="op">=</span>[[<span class="st">&#39;Moscow&#39;</span>, <span class="dv">15740</span>, <span class="dv">11056</span>, <span class="dv">15945</span>], [<span class="st">&#39;Saint-Petersburg&#39;</span>, <span class="dv">5614</span>, <span class="dv">7003</span>, <span class="dv">5895</span>]])</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>info</span></code></pre></div>
<div class="output execute_result" data-execution_count="46">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Moscow</td>
      <td>15740</td>
      <td>11056</td>
      <td>15945</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Saint-Petersburg</td>
      <td>5614</td>
      <td>7003</td>
      <td>5895</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="-EgPIHYu_Zcu">
<p><strong>Выводы</strong></p>
<p>Данные показывают разницу поведения пользователей:</p>
<ul>
<li>В Москве пик прослушиваний приходится на понедельник и пятницу, а в
среду заметен спад.</li>
<li>В Петербурге, наоборот, больше слушают музыку по средам. Активность
в понедельник и пятницу здесь почти в равной мере уступает среде.</li>
</ul>
<p>Значит, данные говорят в пользу первой гипотезы.</p>
</div>
<section id="музыка-в-начале-и-в-конце-недели" class="cell markdown"
data-deletable="false" data-editable="false" id="atZAxtq4_Zcu">
<h3>Музыка в начале и в конце недели</h3>
</section>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="eXrQqXFH_Zcu">
<p>Согласно второй гипотезе, утром в понедельник в Москве преобладают
одни жанры, а в Петербурге — другие. Так же и вечером пятницы
преобладают разные жанры — в зависимости от города.</p>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="S8UcW6Hw_Zcu" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 23</strong></p>
</div>
<div class="cell code" data-deletable="false" id="qeaFfM_P_Zcu">
<div class="sourceCode" id="cb45"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># получение таблицы moscow_general из тех строк таблицы df, для которых значение в столбце &#39;city&#39; равно &#39;Moscow&#39;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>moscow_general <span class="op">=</span> df[df[<span class="st">&#39;city&#39;</span>] <span class="op">==</span> <span class="st">&#39;Moscow&#39;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-deletable="false" id="ORaVRKto_Zcu">
<div class="sourceCode" id="cb46"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># получение таблицы spb_general из тех строк таблицы df, для которых значение в столбце &#39;city&#39; равно &#39;Saint-Petersburg&#39;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>spb_general <span class="op">=</span> df[df[<span class="st">&#39;city&#39;</span>] <span class="op">==</span> <span class="st">&#39;Saint-Petersburg&#39;</span>]</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="MEJV-CX2_Zcu" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 24</strong></p>
</div>
<div class="cell code" data-deletable="false" id="laJT9BYl_Zcu">
<div class="sourceCode" id="cb47"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> genre_weekday(df, day, time1, time2):</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># последовательная фильтрация</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># оставляем в genre_df только те строки df, у которых день равен day</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    genre_df <span class="op">=</span> df[df[<span class="st">&#39;day&#39;</span>] <span class="op">==</span> day] <span class="co"># ваш код здесь</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># оставляем в genre_df только те строки genre_df, у которых время меньше time2</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    genre_df <span class="op">=</span> genre_df[genre_df[<span class="st">&#39;time&#39;</span>] <span class="op">&lt;</span> time2] <span class="co"># ваш код здесь</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># оставляем в genre_df только те строки genre_df, у которых время больше time1</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    genre_df <span class="op">=</span> genre_df[genre_df[<span class="st">&#39;time&#39;</span>] <span class="op">&gt;</span> time1] <span class="co"># ваш код здесь</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># сгруппируем отфильтрованный датафрейм по столбцу с названиями жанров, возьмём столбец genre и посчитаем кол-во строк для каждого жанра методом count()</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    genre_df_grouped <span class="op">=</span> genre_df.groupby(<span class="st">&#39;genre&#39;</span>)[<span class="st">&#39;user_id&#39;</span>].count() <span class="co"># ваш код здесь</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># отсортируем результат по убыванию (чтобы в начале Series оказались самые популярные жанры)</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    genre_df_sorted <span class="op">=</span> genre_df_grouped.sort_values(ascending<span class="op">=</span><span class="va">False</span>) <span class="co"># ваш код здесь</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># вернём Series с 10 самыми популярными жанрами в указанный отрезок времени заданного дня</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> genre_df_sorted[:<span class="dv">10</span>]</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="la2s2_PF_Zcu" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 25</strong></p>
</div>
<div class="cell code" data-deletable="false" id="yz7itPUQ_Zcu"
data-outputId="eaf83bbf-656b-468d-a918-4912d0864e5d"
data-scrolled="true">
<div class="sourceCode" id="cb48"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># вызов функции для утра понедельника в Москве (вместо df — таблица moscow_general)</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>genre_weekday(moscow_general, <span class="st">&#39;Monday&#39;</span>, <span class="st">&#39;07:00&#39;</span>, <span class="st">&#39;11:00&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="31">
<pre><code>genre
pop            781
dance          549
electronic     480
rock           474
hiphop         286
ruspop         186
world          181
rusrap         175
alternative    164
unknown        161
Name: user_id, dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-deletable="false" id="kwUcHPdy_Zcu"
data-outputId="f29f1a9f-20d6-498f-8533-99082fa86948">
<div class="sourceCode" id="cb50"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># вызов функции для утра понедельника в Петербурге (вместо df — таблица spb_general)</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>genre_weekday(spb_general, <span class="st">&#39;Monday&#39;</span>, <span class="st">&#39;07:00&#39;</span>, <span class="st">&#39;11:00&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="32">
<pre><code>genre
pop            218
dance          182
rock           162
electronic     147
hiphop          80
ruspop          64
alternative     58
rusrap          55
jazz            44
classical       40
Name: user_id, dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-deletable="false" id="EzXVRE1o_Zcu"
data-outputId="1e7208ec-2fcb-404d-deeb-79b5de89ac9b">
<div class="sourceCode" id="cb52"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># вызов функции для вечера пятницы в Москве</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>genre_weekday(moscow_general, <span class="st">&#39;Friday&#39;</span>, <span class="st">&#39;17:00&#39;</span>, <span class="st">&#39;23:00&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="33">
<pre><code>genre
pop            713
rock           517
dance          495
electronic     482
hiphop         273
world          208
ruspop         170
alternative    163
classical      163
rusrap         142
Name: user_id, dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-deletable="false" id="JZaEKu5v_Zcu"
data-outputId="eed20170-6f11-40ad-de1b-51c72e3c63d4">
<div class="sourceCode" id="cb54"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># вызов функции для вечера пятницы в Петербурге</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>genre_weekday(spb_general, <span class="st">&#39;Friday&#39;</span>, <span class="st">&#39;17:00&#39;</span>, <span class="st">&#39;23:00&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="34">
<pre><code>genre
pop            256
electronic     216
rock           216
dance          210
hiphop          97
alternative     63
jazz            61
classical       60
rusrap          59
world           54
Name: user_id, dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="wrCe4MNX_Zcu">
<p><strong>Выводы</strong></p>
<p>Если сравнить топ-10 жанров в понедельник утром, можно сделать такие
выводы:</p>
<ol>
<li><p>В Москве и Петербурге слушают похожую музыку. Единственное
различие — в московский рейтинг вошёл жанр “world”, а в петербургский —
джаз и классика.</p></li>
<li><p>В Москве пропущенных значений оказалось так много, что значение
<code>'unknown'</code> заняло десятое место среди самых популярных
жанров. Значит, пропущенные значения занимают существенную долю в данных
и угрожают достоверности исследования.</p></li>
</ol>
<p>Вечер пятницы не меняет эту картину. Некоторые жанры поднимаются
немного выше, другие спускаются, но в целом топ-10 остаётся тем же
самым.</p>
<p>Таким образом, вторая гипотеза подтвердилась лишь частично:</p>
<ul>
<li>Пользователи слушают похожую музыку в начале недели и в конце.</li>
<li>Разница между Москвой и Петербургом не слишком выражена. В Москве
чаще слушают русскую популярную музыку, в Петербурге — джаз.</li>
</ul>
<p>Однако пропуски в данных ставят под сомнение этот результат. В Москве
их так много, что рейтинг топ-10 мог бы выглядеть иначе, если бы не
утерянные данные о жанрах.</p>
</div>
<section id="жанровые-предпочтения-в-москве-и-петербурге"
class="cell markdown" data-deletable="false" data-editable="false"
id="JolODAqr_Zcu">
<h3>Жанровые предпочтения в Москве и Петербурге</h3>
<p>Гипотеза: Петербург — столица рэпа, музыку этого жанра там слушают
чаще, чем в Москве. А Москва — город контрастов, в котором, тем не
менее, преобладает поп-музыка.</p>
</section>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="DlegSvaT_Zcu" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 26</strong></p>
</div>
<div class="cell code" data-deletable="false" id="r19lIPke_Zcu">
<div class="sourceCode" id="cb56"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># одной строкой: группировка таблицы moscow_general по столбцу &#39;genre&#39;, выбор столбца `genre`, подсчёт числа значений &#39;genre&#39; методом count(), сохранение в moscow_genres</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># сортировка получившегося Series в порядке убывания и сохранение обратно в moscow_genres</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>moscow_genres <span class="op">=</span> moscow_general.groupby(<span class="st">&#39;genre&#39;</span>)[<span class="st">&#39;genre&#39;</span>].count()</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>moscow_genres <span class="op">=</span> moscow_genres.sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="6kMuomxTiIr8" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 27</strong></p>
</div>
<div class="cell code" data-deletable="false" id="WhCSooF8_Zcv"
data-outputId="f624f0aa-5a7f-422f-ac3f-3d5577595198">
<div class="sourceCode" id="cb57"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># просмотр первых 10 строк moscow_genres</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>moscow_genres.head(<span class="dv">10</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="36">
<pre><code>genre
pop            5892
dance          4435
rock           3965
electronic     3786
hiphop         2096
classical      1616
world          1432
alternative    1379
ruspop         1372
rusrap         1161
Name: genre, dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="cnPG2vnN_Zcv" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 28</strong></p>
</div>
<div class="cell code" data-deletable="false" id="gluLIpE7_Zcv">
<div class="sourceCode" id="cb59"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># одной строкой: группировка таблицы spb_general по столбцу &#39;genre&#39;, выбор столбца `genre`, подсчёт числа значений &#39;genre&#39; методом count(), сохранение в spb_genres</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># сортировка получившегося Series в порядке убывания и сохранение обратно в spb_genres</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>spb_genres <span class="op">=</span> spb_general.groupby(<span class="st">&#39;genre&#39;</span>)[<span class="st">&#39;genre&#39;</span>].count()</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>spb_genres <span class="op">=</span> spb_genres.sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="5Doha_ODgyQ8" data-tags="[&quot;start_task&quot;]">
<p><strong>Задание 29</strong></p>
</div>
<div class="cell code" data-deletable="false" id="uaGJHjVU_Zcv"
data-outputId="4420a13d-7196-4ef8-95e7-a296af8d1956">
<div class="sourceCode" id="cb60"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># просмотр первых 10 строк spb_genres</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>spb_genres.head(<span class="dv">10</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="38">
<pre><code>genre
pop            2431
dance          1932
rock           1879
electronic     1736
hiphop          960
alternative     649
classical       646
rusrap          564
ruspop          538
world           515
Name: genre, dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="RY51YJYu_Zcv">
<p><strong>Выводы</strong></p>
</div>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="nVhnJEm__Zcv">
<p>Гипотеза частично подтвердилась:</p>
<ul>
<li>Поп-музыка — самый популярный жанр в Москве, как и предполагала
гипотеза. Более того, в топ-10 жанров встречается близкий жанр — русская
популярная музыка.</li>
<li>Вопреки ожиданиям, рэп одинаково популярен в Москве и
Петербурге.</li>
</ul>
</div>
<section id="итоги-исследования" class="cell markdown"
data-deletable="false" data-editable="false" id="ykKQ0N65_Zcv">
<h2>Итоги исследования</h2>
</section>
<div class="cell markdown" data-deletable="false" data-editable="false"
id="tjUwbHb3_Zcv">
<p>Вы проверили три гипотезы и установили:</p>
<ol>
<li>День недели по-разному влияет на активность пользователей в Москве и
Петербурге.</li>
</ol>
<p>Первая гипотеза полностью подтвердилась.</p>
<ol>
<li>Музыкальные предпочтения не сильно меняются в течение недели — будь
то Москва или Петербург. Небольшие различия заметны в начале недели, по
понедельникам:</li>
</ol>
<ul>
<li>в Москве слушают музыку жанра “world”,</li>
<li>в Петербурге — джаз и классику.</li>
</ul>
<p>Таким образом, вторая гипотеза подтвердилась лишь отчасти. Этот
результат мог оказаться иным, если бы не пропуски в данных.</p>
<ol>
<li>Во вкусах пользователей Москвы и Петербурга больше общего, чем
различий. Вопреки ожиданиям, предпочтения жанров в Петербурге напоминают
московские.</li>
</ol>
<p>Третья гипотеза не подтвердилась. Если различия в предпочтениях и
существуют, на основной массе пользователей они незаметны.</p>
<p><strong>На практике исследования содержат проверки статистических
гипотез.</strong> Из части данных одного сервиса невозможно сделать
какие-то выводы о всех пользователях сервиса без методов статистики.
Проверки статистических гипотез покажут, насколько они достоверны,
исходя из имеющихся данных. С методами проверок гипотез вы ещё
познакомитесь в следующих темах.</p>
</div>
</body>
</html>
